# مستندات پایگاه داده

## نمای کلی

سرویس FakeEmailGateway از یک پایگاه داده رابطه‌ای برای ذخیره اطلاعات کاربران، صندوق‌های ورودی و خروجی ایمیل، و خود پیام‌های ایمیل استفاده می‌کند. این سند ساختار پایگاه داده و روابط بین موجودیت‌ها را توضیح می‌دهد.

## نمودار رابطه موجودیت‌ها

![نمودار رابطه موجودیت‌ها](erd.drawio.svg)

## موجودیت‌ها

### کاربر (User)

- **شناسه** (Guid، کلید اصلی): شناسه منحصر به فرد کاربر
- **نام** (رشته): نام کاربر
- **نام خانوادگی** (رشته): نام خانوادگی کاربر
- **شماره تلفن** (رشته): شماره تلفن کاربر
- **آدرس ایمیل** (رشته): آدرس ایمیل منحصر به فرد کاربر
- **رمز عبور** (رشته): رمز عبور حساب ایمیل
- **تاریخ تولد** (تاریخ و زمان): تاریخ تولد کاربر
- **روابط**:
  - دارای یک صندوق ورودی (1:1)
  - دارای یک صندوق خروجی (1:1)

### صندوق ورودی (Inbox)

- **شناسه** (Guid، کلید اصلی): شناسه منحصر به فرد صندوق ورودی
- **روابط**:
  - متعلق به یک کاربر (1:1)
  - دریافت چندین ایمیل (1:N با ایمیل)

### صندوق خروجی (Outbox)

- **شناسه** (Guid، کلید اصلی): شناسه منحصر به فرد صندوق خروجی
- **روابط**:
  - متعلق به یک کاربر (1:1)
  - ارسال چندین ایمیل (1:N با ایمیل)

### ایمیل (Email)

- **شناسه** (Guid، کلید اصلی): شناسه منحصر به فرد ایمیل
- **موضوع** (رشته): موضوع ایمیل
- **متن** (رشته): بخش متن ایمیل
- **تاریخ ایجاد** (رشته): تاریخ ارسال ایمیل
- **روابط**:
  - متعلق به یک صندوق ورودی دریافت‌کننده (N:1)
  - متعلق به یک صندوق خروجی فرستنده (N:1)

## نکات مهم

1. هر کاربر به طور خودکار در هنگام ثبت‌نام یک صندوق ورودی و یک صندوق خروجی دریافت می‌کند
2. پیام‌ها در صندوق ورودی دریافت‌کننده ذخیره می‌شوند
3. پیام‌های ارسال شده در صندوق خروجی فرستنده ذخیره می‌شوند
