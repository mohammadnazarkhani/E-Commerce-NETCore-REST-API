# مستندات API پیام‌رسان مجازی

این پروژه یک سرویس شبیه‌ساز پیامک است که امکان ارسال و دریافت پیام را فراهم می‌کند.

## نقاط پایانی (Endpoints)

### ارسال پیامک

- **آدرس**: `POST /api/sms`
- **توضیحات**: این نقطه پایانی برای ارسال پیامک از یک کاربر به کاربر دیگر استفاده می‌شود
- **نوع درخواست**: JSON
- **پارامترهای ورودی**:
  ```json
  {
    "sender": "شناسه کاربر فرستنده",
    "receiver": "شناسه کاربر گیرنده",
    "message": "متن پیام"
  }
  ```
- **پاسخ موفق** (کد 200):
  ```json
  {
    "success": true,
    "errorMessage": null
  }
  ```
- **پاسخ ناموفق** (کد 400):
  ```json
  {
    "success": false,
    "errorMessage": "کاربر مورد نظر یافت نشد. لطفا شناسه کاربر معتبر وارد کنید."
  }
  ```

### مشاهده صندوق ورودی

- **آدرس**: `GET /inbox`
- **توضیحات**: این صفحه برای نمایش پیام‌های دریافتی کاربر استفاده می‌شود
- **پارامترهای Query**:
  - `userId`: شناسه کاربر (اجباری)
- **نمونه آدرس**: `/inbox?userId=123`
- **خروجی**: نمایش لیست پیام‌های دریافتی کاربر در قالب یک صفحه وب

## نکات مهم

1. قبل از استفاده از API، کاربر باید در سیستم ثبت شده باشد
2. هر کاربر دارای یک صندوق ورودی اختصاصی است که به صورت خودکار در اولین درخواست ایجاد می‌شود
3. پیام‌ها به صورت یک‌طرفه ارسال می‌شوند و امکان پاسخ مستقیم وجود ندارد
4. در صورت وارد کردن شناسه کاربر نامعتبر، سیستم خطای مناسب را برمی‌گرداند

## مدل‌های داده

### پیام (Sms)

```json
{
  "id": "شناسه یکتای پیام (GUID)",
  "message": "متن پیام",
  "senderId": "شناسه کاربر فرستنده",
  "inboxId": "شناسه صندوق ورودی گیرنده"
}
```

### صندوق ورودی (Inbox)

```json
{
  "id": "شناسه یکتای صندوق ورودی (GUID)",
  "userId": "شناسه کاربر مالک صندوق",
  "messages": "لیست پیام‌های دریافتی"
}
```

## مثال‌های استفاده

### ارسال پیامک

```bash
curl -X POST https://your-domain.com/api/sms \
  -H "Content-Type: application/json" \
  -d '{
    "sender": "user1",
    "receiver": "user2",
    "message": "سلام! این یک پیام تستی است."
  }'
```

### مشاهده صندوق ورودی

در مرورگر آدرس زیر را وارد کنید:

```
https://your-domain.com/inbox?userId=user1
```
